<!DOCTYPE html>
<html>
<head>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" href="favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
</head>
<title>Live</title>
<body>

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

body {
  background-color: #646464; #838996; background-image: url('');
}
#channel-display {
    position: fixed;
    top: 20px; /* Adjust to position where you want the channel number to appear */
    right: 20px; /* Adjust to position where you want the channel number to appear */
    padding: 10px;
    font-size: 2em;
    color: white;
    background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent background */
    border-radius: 10px;
    display: none; /* Initially hidden */
}
</style>
<style>
	<span> <! ---    ---  </span>
* {box-sizing: border-box;}

body { 
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.header {
  overflow: hidden;
  background-color: #f1f1f2;
  padding: 5px 5px;
}

.header a {
  float: left;
  color: black;
  text-align: center;
  padding: 12px;
  text-decoration: none;
  font-size: 18px; 
  line-height: 25px;
  border-radius: 4px;
}

.header a.logo {
  font-size: 20px;
  font-weight: bold;
}

.header a:hover {
  background-color: #ddd;
  color: black;
}

.header a.active {
  background-color: dodgerblue;
  color: white;
}

.header-right {
  float: right;
}

@media screen and (max-width: 500px) {
  .header a {
    float: none;
    display: block;
    text-align: left;
  }
  
  .header-right {
    float: none;
  }
}
.href {
}
* {
  box-sizing: border-box;
}
.program {
	font-size: 0.9em;
	text-align: left;
	padding: 20px;
}
body {
  font-family: Arial, Helvetica, sans-serif;
}


}

/* Create two columns/boxes that floats next to each other */
nav {
  float: left;
  width: 30%;
  height: 300px; /* only for demonstration, should be removed */
  background: #ccc;
  padding: 20px;
}

/* Style the list inside the menu */
nav ul {
  list-style-type: none;
  padding: 0;
}

article {
  float: left;
  padding: 20px;
  width: 70%;
  background-color: #f1f1f1;
  height: 300px; /* only for demonstration, should be removed */
}

/* Clear floats after the columns */
section::after {
  content: "";
  display: table;
  clear: both;
}

/* Style the footer */
footer {
  background-color: #f1f1f1;
  padding: 10px;
  text-align: center;
  color: black;
  font-weight: bold;
}

/* Responsive layout - makes the two columns/boxes stack on top of each other instead of next to each other, on small screens */
@media (max-width: 600px) {
  nav, article {
    width: 100%;
    height: auto;
  }
}
</style>
	
<style>
th, td {
  border-style:outset;
  border-color: #a67b5b;#696969
  text-align: center;
  vertical-align: middle;
  color: #ffffff;
}
td:hover {
    color: #fff;
    background: #CA293E;
	cursor: pointer;
}
td:focus {
    background: #f44;
}
.selected {
	color: #fff;
    background: #CA293E;
}
/* Container inside the td to hold top and bottom sections */
.td-container {
	display: flex;
	flex-direction: column;
	height: 95%;  /* Take up full height of td */
}

/* Top section for logo */
.top-section {
	display: flex;
	align-items: top;
	justify-content: center;
}

/* Bottom section for description */
.bottom-section {
	padding: 10px;
	font-size: 14px;
}
</style>
<center>
</center>
<body>
<div id="channel-display"></div>
<br>
<br>
<center><h2 style="color:#f1f1f1;">Sports</h2></center>
<center><table style="width:100%">
    <tr>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/arena.html" id="row0cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/235_144.png" alt="Arena"></div>00<div class="bottom-section"><div id="schedule-container-235"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/arena2.html" id="row0cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/457_144.png" alt="Arena2"></div>01<div class="bottom-section"><div id="schedule-container-457"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/sports/arenabola1.html" id="row0cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/486_144.png" alt="bola"></div>02<div class="bottom-section"><div id="schedule-container-486"></div></div></div></td>	
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/sports/arenabola2.html" id="row0cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/487_144.png" alt="bola2"></div>03<div class="bottom-section"><div id="schedule-container-487"></div></div></div></td>	
	</tr>
	<tr>
    <td align="center" style="width:25%" data-href="https://myvi.servebeer.com/sports/grandstand.html" id="row1cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/543_144.png" alt="grandstand"></div>10<div class="bottom-section"><div id="schedule-container-543"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://myvi.servebeer.com/sports/premierleague.html" id="row1cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/536_144.png" alt="premierleague"></div>11<div class="bottom-section"><div id="schedule-container-536"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/sports/premierleague2.html" id="row1cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/537_144.png" alt="premierleague2"></div>12<div class="bottom-section"><div id="schedule-container-537"></div></div></div></td>	
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/badminton.html" id="row1cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/540_144.png" alt="badminton"></div>13<div class="bottom-section"><div id="schedule-container-540"></div></div></div></td>	
	</tr>
	<tr>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/superplus.html" id="row2cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/542_144.png" alt="superplus"></div>20<div class="bottom-section"><div id="schedule-container-542"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/bein1.html" id="row2cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/236_144.png" alt="beIN Sports1"></div>21<div class="bottom-section"><div id="schedule-container-236"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/bein2.html" id="row2cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/466_144.png" alt="beIN Sports2"></div>22<div class="bottom-section"><div id="schedule-container-466"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/bein3.html" id="row2cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/313_144.png" alt="beIN Sports3"></div>23<div class="bottom-section"><div id="schedule-container-313"></div></div></div></td>
	</tr>
	<tr>
	<td align="center" style="width:25%" data-href="https://rtm-player.glueapi.io/latest/h/4" id="row3cell0"><div class="td-container"><div class="top-section"><img src="https://upload.wikimedia.org/wikipedia/en/b/b2/Sukan_RTM_1_April.png" width="144" height="60" alt="rtmsukan"></div>30<div class="bottom-section"><div id="schedule-container-sukanrtm"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/wwe.html" id="row3cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/194_144.png" alt="wwe"></div>31<div class="bottom-section"><div id="schedule-container-194"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/spotv.html" id="row3cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/456_144.png" alt="spotv"></div>32<div class="bottom-section"><div id="schedule-container-456"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/spotv2.html" id="row3cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/474_144.png" alt="spotv2"></div>33<div class="bottom-section"><div id="schedule-container-474"></div></div></div></td>
	</tr>
</table></center>
<br>
<br>
<br>  
<center><h2 style="color:#f1f1f1;">MYTV</h2></center>
<center><table style="width:100%">
    <tr>
	<td align="center" style="width:33%" data-href="https://rtm-player.glueapi.io/latest/h/1" id="row4cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/395_144.png" alt="" width="tv1"></div>40<div class="bottom-section"><div id="schedule-container-395"></div></div></div></td>
	<td align="center" style="width:33%" data-href="https://rtm-player.glueapi.io/latest/h/2" id="row4cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/396_144.png" alt="" width="tv2"></div>41<div class="bottom-section"><div id="schedule-container-396"></div></div></div></td>
    <td align="center" style="width:33%" data-href="https://myvi.servebeer.com/tv3.html" id="row4cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/106_144.png" alt="" width="tv3"></div>42<div class="bottom-section"><div id="schedule-container-106"></div></div></div></td>
    </tr>
	<tr>
	<td align="center" style="width:33%" data-href="https://wakacha.github.io/live/tv8.html" id="row5cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/115_144.png" alt="8tv"></div>50<div class="bottom-section"><div id="schedule-container-115"></div></div></div></td>
	<td align="center" style="width:33%" data-href="https://wakacha.github.io/live/tv9.html" id="row5cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/48_144.png" alt="" width="tv9"></div>51<div class="bottom-section"><div id="schedule-container-48"></div></div></div></td>
    <td align="center" style="width:33%" data-href="https://rtm-player.glueapi.io/latest/h/3" id="row5cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/467_144.png" alt="" width="OKEY"></div>52<div class="bottom-section"><div id="schedule-container-467"></div></div></div></td>
	</tr>
</table></center>
<br>
<br>
<br>
<center><h2 style="color:#f1f1f1;">Chinese</h2></center>
<center><table style="width:100%">
    <tr>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/iqiyi.html" id="row6cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/355_144.png" alt="iqiyi"></div>60<div class="bottom-section"><div id="schedule-container-355"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/tvbclassic.html" id="row6cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/425_144.png" alt="tvbclassic"></div>61<div class="bottom-section"><div id="schedule-container-425"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/tianyin.html" id="row6cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/134_144.png" alt="tianyin"></div>62<div class="bottom-section"><div id="schedule-container-134"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/token/other/qj.html" id="row6cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/158_144.png" alt="qj"></div>63<div class="bottom-section"><div id="schedule-container-158"></div></div></div></td>
    </tr>
    <tr>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/320.html" id="row7cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/384_144.png" alt="tvbs" width="100"></div>70<div class="bottom-section"><div id="schedule-container-384"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/ccm.html" id="row7cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/187_144.png" alt="CCM"></div>71<div class="bottom-section"><div id="schedule-container-187"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/aec.html" id="row7cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/182_144.png" alt="aec"></div>72<div class="bottom-section"><div id="schedule-container-182"></div></div></div></td> 
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/huanxi.html" id="row7cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/162_144.png" alt="huanhee"></div>73<div class="bottom-section"><div id="schedule-container-162"></div></div></div></td>
    </tr>
	<tr>
	<td align="center" data-href="https://jiunfann.github.io/335.html" id="row8cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/385_144.png" alt="cctv4"></div>80<div class="bottom-section"><div id="schedule-container-385"></div></div></div></td> 
    <td align="center" style="width:25%" data-href="https://jiunfann.github.io/316.html" id="row8cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/424_144.png" alt="cti"></div>81<div class="bottom-section"><div id="schedule-container-424"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/317.html" id="row8cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/427_144.png" alt="tvbentertain"></div>82<div class="bottom-section"><div id="schedule-container-427"></div></div></div></td> 
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/xinghe.html" id="row8cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/383_144.png" alt="xinghe"></div>83<div class="bottom-section"><div id="schedule-container-383"></div></div></div></td>
    </tr>
</table></center>
<br>
<br>
<br>
<center><h2 style="color:#f1f1f1;">Movie</h2></center>
<center><table style="width:100%">
	<tr>
    <td align="center" style="width:33%" data-href="https://jiunfann.github.io/hbo.html" id="row9cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/143_144.png" alt="hbo" width="100"></div>90<div class="bottom-section"><div id="schedule-container-143"></div></div></div></td>
    <td align="center" style="width:33%" data-href="https://myvi.servebeer.com/hbofamily.html" id="row9cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/450_144.png" alt="hbofamily"></div>91<div class="bottom-section"><div id="schedule-container-450"></div></div></div></td> 
	<td align="center" style="width:33%" data-href="https://myvi.servebeer.com/hbohits.html" id="row9cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/449_144.png" alt="xinghe"></div>92<div class="bottom-section"><div id="schedule-container-449"></div></div></div></td>
    </tr>
	<tr>
    <td align="center" style="width:33%" data-href="https://myvi.servebeer.com/cinem.html" id="row10cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/337_144.png" alt="cinemax"></div>100<div class="bottom-section"><div id="schedule-container-337"></div></div></div></td>
	<td align="center" style="width:33%" data-href="https://myvi.servebeer.com/tvn.html" id="row10cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/190_144.png" alt="tvn"></div>102<div class="bottom-section"><div id="schedule-container-190"></div></div></div></td>
	<td align="center" style="width:33%" data-href="https://myvi.servebeer.com/tvnmovies.html" id="row10cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/274_144.png" alt="tvnmovies"></div>103<div class="bottom-section"><div id="schedule-container-274"></div></div></div></td> 
    </tr>
</table></center>
<br>
<br>
<br>
<center><h2 style="color:#f1f1f1;">Documentary</h2></center>
<center><table style="width:100%">
	<tr>
    <td align="center" style="width:25%" data-href="https://myvi.servebeer.com/discov.html" id="row11cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/376_144.png" alt="discovery" width="100"></div>110<div class="bottom-section"><div id="schedule-container-376"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://myvi.servebeer.com/discoasia.html" id="row11cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/136_144.png" alt="discoasia"></div>111<div class="bottom-section"><div id="schedule-container-136"></div></div></div></td> 
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/history.html" id="row11cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/144_144.png" alt="xinghe"></div>112<div class="bottom-section"><div id="schedule-container-144"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://jiunfann.github.io/animpla.html" id="row11cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/377_144.png" alt="cinemax"></div>113<div class="bottom-section"><div id="schedule-container-377"></div></div></div></td>
    </tr>
</table></center>
<br>
<br>
<br>
<center><h2 style="color:#f1f1f1;">Kids</h2></center>
<center><table style="width:100%">
	<tr>
    <td align="center" style="width:25%" data-href="https://myvi.servebeer.com/dreamworks.html" id="row12cell0"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/485_144.png" alt="dreamworks" width="100"></div>120<div class="bottom-section"><div id="schedule-container-485"></div></div></div></td>
    <td align="center" style="width:25%" data-href="https://myvi.servebeer.com/carnet.html" id="row12cell1"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/371_144.png" alt="discoasia"></div>121<div class="bottom-section"><div id="schedule-container-371"></div></div></div></td> 
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/nicklo.html" id="row12cell2"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/370_144.png" alt="xinghe"></div>122<div class="bottom-section"><div id="schedule-container-370"></div></div></div></td>
	<td align="center" style="width:25%" data-href="https://myvi.servebeer.com/nickjr.html" id="row12cell3"><div class="td-container"><div class="top-section"><img src="https://divign0fdw3sv.cloudfront.net/Images/ChannelLogo/contenthub/392_144.png" alt="cinemax"></div>123<div class="bottom-section"><div id="schedule-container-392"></div></div></div></td>
    </tr>
</table></center>
<br><br><br>
<br>
<br>
<br>
<script>
	const rows = document.querySelectorAll('table tr');
	let channelNumber = '';
	let inputTimeout;
	let currentRowIndex = 0;
	let currentCellIndex = 0;

	// Initial selection
	rows[currentRowIndex].children[currentCellIndex].classList.add('selected');
	//document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).focus();
	
	document.addEventListener('keydown', (event) => {
	
		rows[currentRowIndex].children[currentCellIndex].classList.remove('selected');
		
		switch (event.key) {
			case 'ArrowRight' || 39:
				currentCellIndex = (currentCellIndex + 1) % rows[currentRowIndex].children.length;
				//document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).focus();
				break;
			case 'ArrowLeft' || 37:
				currentCellIndex = (currentCellIndex - 1 + rows[currentRowIndex].children.length) % rows[currentRowIndex].children.length;
				//document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).focus();
				break;
			case 'ArrowDown' || 40:
				currentRowIndex = (currentRowIndex + 1) % rows.length;
				//document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).focus();
				break;
			case 'ArrowUp' || 38:
				if (currentRowIndex === 0) {
					currentCellIndex = 0;
				} else {
					currentRowIndex = (currentRowIndex - 1 + rows.length) % rows.length;
				}
				//document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).focus();
				break;
			case 'Enter' || 13:
				const url = document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).getAttribute('data-href');
				//document.getElementById('row'+currentRowIndex+'cell'+currentCellIndex).focus();
				window.open(url,'_blank');
				break;
			default:
				break;
		}
		rows[currentRowIndex].children[currentCellIndex].classList.add('selected');

		if (event.key >= 0 && event.key <= 9) { // Check if the key is a number (0-9)
			channelNumber += event.key;
			console.log("Channel number so far: " + channelNumber);
			const channelDisplay = document.getElementById('channel-display');
			channelDisplay.innerText = channelNumber;
			channelDisplay.style.display = 'block';

			clearTimeout(inputTimeout);
			inputTimeout = setTimeout(() => {
				console.log("Timeout reached. Complete channel number: " + channelNumber);
				var tempRow='0';
				var tempCell='0';
				console.log("channelNumber.length: " + channelNumber.length);
				if (channelNumber.length>1){
					if (channelNumber.length==2){
						tempRow = channelNumber.substring(0,1);
						tempCell = channelNumber.substring(1,channelNumber.length);
					}else if (channelNumber.length==3){
						tempRow = channelNumber.substring(0,2);
						tempCell = channelNumber.substring(2,channelNumber.length);
					}
					try{
					const url = document.getElementById('row'+tempRow+'cell'+tempCell).getAttribute('data-href');
					window.open(url,'_blank');
					}catch(error){console.log(error);}
				}
				channelDisplay.style.display = 'none';
				channelNumber = ''; // Reset the channel number
			}, 2000); // Adjust the timeout duration as needed
		}
	});
	document.querySelectorAll('td').forEach(td => {
        td.addEventListener('click', function() {
            const url = td.getAttribute('data-href');
            if (url) {
                window.open(url, '_blank');  // Open the URL in a new tab
            }
        });
    });
</script>
<script>
	loadSchedules();
	loadRTMSchedules();
    // Function to fetch and display the current and next schedules
    async function loadSchedules() {
        const apiUrl = 'https://contenthub-api.eco.astro.com.my/channel/all.json';
        try {
            const response = await fetch(apiUrl);
            const data = await response.json();
			
			let stringArray = ['235','457','486','487','154','138','164','241','236','466','313','194','456','474',
							   '395','396','106','115','48','467','355','425','134','158','203','424','427','383','384','187',
							   '182','143','450','449','337','190','274','376','136','144','377',
							   '485','371','370','392','543','536','537','540','542'];
            
            const now = new Date();

			for(let i=0; i <= stringArray.length; i++){
				var headchannelid = stringArray[i];
				
				const scheduleContainer = document.getElementById('schedule-container-'+headchannelid);
				data.response.forEach(channel => {
					const channelid = channel.id;
					const channelName = channel.title;
					const programs = channel.currentSchedule;
					var currDateTimeInUtc = '';
					var nextDateTimeInUtc = '';
					
					let currentProgram = null;
					let nextProgram = null;

					for (let i = 0; i < programs.length; i++) {
						const program = programs[i];
						const start = parseTime(program.datetimeInUtc);
						currDateTimeInUtc = start;
						
						if (now >= start) {
							currentProgram = program;
							if (i + 1 < programs.length) {
								nextProgram = programs[i + 1];
								nextDateTimeInUtc = parseTime(nextProgram.datetimeInUtc);
							}
							break;
						}
					}

					if (currentProgram && headchannelid==channelid) {
						const channelElement = document.createElement('div');
						const currentProgramElement = document.createElement('div');
						currentProgramElement.className = 'program';
						currentProgramElement.innerHTML = `${formatTime(currDateTimeInUtc)} : ${currentProgram.title}`;

						if (nextProgram) {
							currentProgramElement.innerHTML += `<br>${formatTime(nextDateTimeInUtc)} : ${nextProgram.title}`;
						}
						channelElement.appendChild(currentProgramElement);
						scheduleContainer.appendChild(channelElement);
					}
				});
			}
        } catch (error) {
            console.error('Failed to load schedules:', error);
        }
    }
	async function loadRTMSchedules() {
        // Get today's date
        const today = getTodayDate();

        // URL with today's date
        const apiUrl = `https://rtm.glueapi.io/v3/epg/4/ChannelSchedule?dateStart=${today}&dateEnd=${today}&timezone=+08:00&embed=author,program`;

        try {
            const response = await fetch(apiUrl);
            const data = await response.json();

            const scheduleContainer = document.getElementById('schedule-container-sukanrtm');
            const now = new Date();
			console.log(data.schedule);
			const programs=data.schedule;
            for (let i = 0; i < programs.length; i++) {
                	
				var curStartTime = '';
				var curTitle = '';
				var nextStartTime= '';
				var nextTitle = '';
				
				var booContinue = false;
     
				const program = programs[i];
				
				const start = new Date(program.dateTimeStart);
				const end = new Date(program.dateTimeEnd);

				if (now >= start && now <= end) {
					booContinue = true;
					curStartTime = program.dateTimeStart;
					curTitle = program.programTitle;
					if (i + 1 < programs.length) {
						nextProgram = programs[i + 1];
						nextStartTime = nextProgram.dateTimeStart;
						nextTitle = nextProgram.programTitle;
					}
					
				}
				if (booContinue){
                    const channelElement = document.createElement('div');
                    const currentProgramElement = document.createElement('div');
                    currentProgramElement.className = 'program';
                    currentProgramElement.innerHTML = `${formatTime(new Date(curStartTime))} : ${curTitle}`;              

                    if (nextProgram) {
                        currentProgramElement.innerHTML += `<br>${formatTime(new Date(nextStartTime))} : ${nextTitle}`;
                    }
					channelElement.appendChild(currentProgramElement);
                    scheduleContainer.appendChild(channelElement);
					break;
				}
                
            }
        } catch (error) {
            console.error('Failed to load schedules:', error);
        }
    }
    // Function to parse the UTC time string
    function parseTime(utcString) {
        return new Date(utcString + 'Z'); // Append 'Z' to ensure it is treated as UTC
    }

    // Function to format the time for display
    function formatTime(date) {
        return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }
	
	function getTodayDate() {
        const today = new Date();
		const year = today.getFullYear();
		const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based
		const day = String(today.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
    }
</script>
</body>
</html>
